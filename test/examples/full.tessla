Definitions(
  Map(
    "writes" -> StreamDef(
      "writes",
      ExprTree(
        Map(
          Pos(0) -> ExprTree(
            NamedFn("variable_updates"),
            Map(
              Pos(0) -> ExprTree(
                LiteralFn(
                  StringLiteral("main.c:write_ptr")
                ),
              )
            )
          )
        )
      )
    ),
    "processed" -> StreamDef(
      "processed",
      ExprTree(
        TypeAscrFn(
          GenericType(
            "Events",
            List(
              SimpleType("Int")
            )
          )
        ),
        Map(
          Pos(0) -> ExprTree(
            NamedFn("function_calls"),
            Map(
              Pos(0) -> ExprTree(
                LiteralFn(
                  StringLiteral("main.c:process")
                )
              )
            )
          )
        )
      )
    ),
    "bufLevel" -> StreamDef(
      "bufLevel",
        ExprTree(
          TypeAscrFn(
            GenericType(
            "Signal",
            List(
              SimpleType("Int")
            )
          )
        ),
        Map(
          Pos(0) -> ExprTree(
            NamedFn("diff"),
            Map(
              Pos(0) -> ExprTree(
                NamedFn("count"),
                Map(
                  Pos(0) -> ExprTree(
                    NamedFn("writes")
                  )
                )
              ),
              Pos(1) -> ExprTree(
                NamedFn("count"),
                Map(
                  Pos(0) -> ExprTree(
                    NamedFn("processed")
                  )
                )
              )
            )
          )
        )
      )
    ),
    "error" -> StreamDef(
      "error",
      ExprTree(
        TypeAscrFn(
          GenericType(
            "Events",
            List(
              SimpleType(
                "Unit"
              )
            )
          )
        ),
        Map(
          Pos(0) -> ExprTree(
            NamedFn("onFalse"),
            Map(
              Pos(0) -> ExprTree(
                NamedFn(and),
                Map(
                  Pos(0) -> ExprTree(
                    NamedFn("leq"),
                    Map(
                      Pos(0) -> ExprTree(
                        LiteralFn(
                          IntLiteral(0)
                        )
                      ),
                      Pos(1) -> ExprTree(
                        NamedFn("bufLevel")
                      )
                    )
                  ),
                  Pos(1) -> ExprTree(
                    NamedFn("leq"),
                    Map(
                      Pos(0) -> ExprTree(
                        NamedFn("bufLevel")
                      ),
                      Pos(1) -> ExprTree(
                        LiteralFn(
                          IntLiteral(5)
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        )
      )
    )
  )
)
